#!/bin/bash
#
# display language selection

# get current langauge
current=$(xkb-switch)

# get both current and alternate (switched to by Alt-Shift)
both=$(setxkbmap -query | head -n 3 | tail -n 1 | cut -d ':' -f2 | awk '{$1=$1;print}')

# https://unix.stackexchange.com/a/104887
# remove from both the current language
alternate=${both//$current}
#remove comma
alternate=${alternate//,}


# attempt at bold that failed in polybar

if [ -z "$alternate" ]
then
    echo "$current"
else
    if [ -t 1 ]; then
        # terminal
        echo -e "\033[1m$current\033[0m|$alternate"
    else
        # not terminal don't bold
        echo -e "$current|$alternate"
    fi
fi
